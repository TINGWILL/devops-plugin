/* 确保页面可以滚动 */
html, body {
  height: auto;
  min-height: 100vh;
  overflow-x: hidden;
}

/* 基础容器样式 */
#app {
  min-height: 100vh;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  padding: 0 24px 24px 24px;
  color: var(--semi-color-text-0);
  background-color: var(--semi-color-bg-0);
  overflow: visible;
  box-sizing: border-box;
}

/* 滚动条样式 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--semi-color-fill-0);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--semi-color-border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--semi-color-text-2);
}

/* 暗色模式主容器样式 */
body[theme-mode="dark"] #app {
  background-color: #2f3037 !important;
}

/* 暗色模式滚动条样式 */
body[theme-mode="dark"] ::-webkit-scrollbar-track {
  background: #3a3a3a !important;
}

body[theme-mode="dark"] ::-webkit-scrollbar-thumb {
  background: #666666 !important;
}

body[theme-mode="dark"] ::-webkit-scrollbar-thumb:hover {
  background: #888888 !important;
}

/* 响应式间距调整 */
@media (max-width: 1200px) {
  #app { padding: 0 16px; }
}

@media (max-width: 768px) {
  #app { padding: 0 12px; }
}

/* 固定列样式 - 参考官方示例的简洁实现 */
.semi-table-fixed-left {
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
  z-index: 10;
  position: sticky !important;
}

.semi-table-fixed-right {
  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);
  z-index: 10;
  position: sticky !important;
  right: 0 !important;
}

/* 关键修复：滚动到最右边时的对齐问题 - 考虑滚动条宽度 */
/* Semi Design表格在滚动时，表头没有滚动条，表体有滚动条，导致宽度计算不一致 */
/* 解决方案：当表体有垂直滚动条时，表头的可用宽度需要减去滚动条宽度 */

/* 表头容器：完全展开，使用页面滚动 */
.semi-table-header-wrapper {
  overflow: visible;
  width: 100%;
  box-sizing: border-box;
}

/* 表体容器：自适应高度，使用页面滚动条 */
.semi-table-body-wrapper {
  overflow-x: auto;
  overflow-y: visible;
  width: 100%;
  box-sizing: border-box;
  max-height: none;
}

/* 关键修复：当表体有垂直滚动条时，表头需要减去滚动条宽度 */
/* 使用CSS变量或JavaScript可以更精确，但先用固定值（滚动条宽度通常是15-17px） */
.semi-table-scroll-wrapper {
  position: relative;
}

/* 确保表头和表体的表格宽度一致 */
.semi-table-header-wrapper .semi-table,
.semi-table-body-wrapper .semi-table {
  table-layout: fixed !important;
  width: 100%;
}

/* 关键修复：确保固定右列在滚动时对齐 - 专门针对最后一列 */
.semi-table-header-wrapper .semi-table .semi-table-thead tr th.semi-table-fixed-right,
.semi-table-body-wrapper .semi-table .semi-table-tbody tr td.semi-table-fixed-right,
.semi-table-container .semi-table .semi-table-thead tr th.semi-table-fixed-right,
.semi-table-container .semi-table .semi-table-tbody tr td.semi-table-fixed-right {
  position: sticky !important;
  right: 0 !important;
  box-sizing: border-box !important;
  /* 关键：确保宽度完全一致 */
  width: 140px !important;
  min-width: 140px !important;
  max-width: 140px !important;
  /* 确保padding完全一致 */
  padding-left: 16px !important;
  padding-right: 16px !important;
  padding-top: 10px !important;
  padding-bottom: 10px !important;
}


/* 关键修复：使用更精确的方法对齐固定右列 */
/* 方案：表头的固定右列right值应该等于表体的固定右列right值加上滚动条宽度 */
.semi-table-header-wrapper .semi-table .semi-table-thead tr th.semi-table-fixed-right {
  /* 如果表体有滚动条，这里right值需要是负的滚动条宽度，但Semi Design应该会自动处理 */
  /* 如果仍有问题，可能需要JavaScript动态调整 */
  right: 0 !important;
}

.semi-table-body-wrapper .semi-table .semi-table-tbody tr td.semi-table-fixed-right {
  /* 表体的固定右列需要考虑滚动条，但Semi Design应该会自动处理 */
  right: 0 !important;
}


.semi-table-selection-column {
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
  z-index: 11;
  background: var(--semi-color-bg-0);
  position: sticky !important;
  left: 0;
  width: 50px;
}

.semi-table-fixed-left {
  left: 50px;
}

/* 表格容器和样式 - 参考官方示例，简化样式 */
.semi-table-container {
  background: var(--semi-color-bg-0);
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.semi-table-container .semi-table {
  border-collapse: separate;
  border-spacing: 0;
  /* 关键修复：使用固定表格布局确保列宽一致 */
  table-layout: fixed !important;
}

/* 关键修复：确保表头和表体的列宽完全同步 */
.semi-table-container .semi-table .semi-table-thead tr th,
.semi-table-container .semi-table .semi-table-tbody tr td {
  box-sizing: border-box !important;
}

/* 确保表头和表体在滚动容器中宽度一致 */
.semi-table-header-wrapper .semi-table,
.semi-table-body-wrapper .semi-table {
  table-layout: fixed !important;
}

/* 确保所有单元格宽度计算方式一致 */
.semi-table-header-wrapper .semi-table .semi-table-thead tr th,
.semi-table-body-wrapper .semi-table .semi-table-tbody tr td {
  box-sizing: border-box !important;
  width: auto !important;
}

/* 表头样式 - 参考官方示例的简洁实现 */
.semi-table-container .semi-table .semi-table-thead tr th,
.semi-table .semi-table-thead tr th,
.semi-table-header-wrapper .semi-table .semi-table-thead tr th {
  background-color: #F5F7FA;
  border-right: 1px solid #E5E6EB;
  border-bottom: 1px solid #E5E6EB;
  border-left: none;
  padding: 10px 16px;
  font-size: 14px;
  font-weight: 500;
  line-height: 20px;
  color: #262626;
  box-sizing: border-box !important;
  vertical-align: middle;
  /* 确保宽度精确 */
  width: auto;
}

/* 关键修复：表头固定右列的特殊处理 */
.semi-table-container .semi-table .semi-table-thead tr th.semi-table-fixed-right,
.semi-table-header-wrapper .semi-table .semi-table-thead tr th.semi-table-fixed-right {
  /* 确保宽度和padding与表体完全一致 */
  width: 140px !important;
  min-width: 140px !important;
  max-width: 140px !important;
  padding-left: 16px !important;
  padding-right: 16px !important;
  padding-top: 10px !important;
  padding-bottom: 10px !important;
}

/* 表体样式 - 参考官方示例的简洁实现 */
.semi-table-container .semi-table .semi-table-tbody tr td,
.semi-table .semi-table-tbody tr td,
.semi-table-body-wrapper .semi-table .semi-table-tbody tr td {
  background-color: #FFFFFF;
  border-right: 1px solid #E5E6EB;
  border-bottom: 1px solid #E5E6EB;
  border-left: none;
  padding: 10px 16px;
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
  color: #262626;
  box-sizing: border-box !important;
  vertical-align: middle;
  /* 确保宽度精确 */
  width: auto;
}

/* 关键修复：表体固定右列的特殊处理 */
.semi-table-container .semi-table .semi-table-tbody tr td.semi-table-fixed-right,
.semi-table-body-wrapper .semi-table .semi-table-tbody tr td.semi-table-fixed-right {
  /* 确保宽度和padding与表头完全一致 */
  width: 140px !important;
  min-width: 140px !important;
  max-width: 140px !important;
  padding-left: 16px !important;
  padding-right: 16px !important;
  padding-top: 10px !important;
  padding-bottom: 10px !important;
}

/* 暗色模式表格样式 */
body[theme-mode="dark"] .semi-table-container .semi-table .semi-table-thead tr th {
  background-color: #2a2a2a;
  color: #ffffff;
  border-color: #4a4a4a;
}

body[theme-mode="dark"] .semi-table-container .semi-table .semi-table-tbody tr td {
  background-color: #2a2a2a;
  color: #ffffff;
  border-color: #4a4a4a;
}

body[theme-mode="dark"] .semi-table-container .semi-table .semi-table-tbody tr:hover td {
  background-color: #3a3a3a;
}

body[theme-mode="dark"] .semi-table-container .semi-table .semi-table-tbody tr.semi-table-row-selected td {
  background-color: #1a3a5a;
}

/* 表头选择列 - 隐藏3个点，保留复选框 */
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column,
.semi-table .semi-table-thead .semi-table-selection-column {
  padding: 10px 16px;
  font-size: 14px;
  line-height: 20px;
  overflow: visible;
  /* 禁止文本溢出显示省略号 */
  text-overflow: clip !important;
  white-space: nowrap !important;
}

/* 隐藏表头选择列的所有伪元素（::before 和 ::after）*/
/* 关键：必须隐藏 th.semi-table-column-selection 的 ::before 伪元素（这是3个点的来源）*/
/* 使用最高优先级的选择器 */
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column::before,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column::after,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap::before,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap::after,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection::before,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection::after,
.semi-table-container .semi-table .semi-table-thead th.semi-table-row-head.semi-table-column-selection::before,
.semi-table-container .semi-table .semi-table-thead th.semi-table-row-head.semi-table-column-selection::after,
.semi-table-container .semi-table .semi-table-thead th.semi-table-cell-fixed-left.semi-table-column-selection::before,
.semi-table-container .semi-table .semi-table-thead th.semi-table-cell-fixed-left.semi-table-column-selection::after,
.semi-table-container .semi-table .semi-table-thead th.hide-pseudo-elements::before,
.semi-table-container .semi-table .semi-table-thead th.hide-pseudo-elements::after,
.semi-table .semi-table-thead .semi-table-selection-column::before,
.semi-table .semi-table-thead .semi-table-selection-column::after,
.semi-table .semi-table-thead .semi-table-selection-wrap::before,
.semi-table .semi-table-thead .semi-table-selection-wrap::after,
.semi-table .semi-table-thead th.semi-table-column-selection::before,
.semi-table .semi-table-thead th.semi-table-column-selection::after,
.semi-table .semi-table-thead th.semi-table-row-head.semi-table-column-selection::before,
.semi-table .semi-table-thead th.semi-table-row-head.semi-table-column-selection::after,
.semi-table .semi-table-thead th.semi-table-cell-fixed-left.semi-table-column-selection::before,
.semi-table .semi-table-thead th.semi-table-cell-fixed-left.semi-table-column-selection::after {
  content: none !important;
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  width: 0 !important;
  height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  position: absolute !important;
  left: -9999px !important;
  pointer-events: none !important;
  font-size: 0 !important;
  line-height: 0 !important;
  background: none !important;
  border: none !important;
  text-indent: -9999px !important;
}

/* 隐藏选择列内所有子元素的伪元素（包括深层嵌套） */
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column *::before,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column *::after,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap *::before,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap *::after,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection *::before,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection *::after,
/* 特别针对复选框相关元素 */
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection .semi-checkbox::before,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection .semi-checkbox::after,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection .semi-checkbox-inner::before,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection .semi-checkbox-inner::after,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection .semi-checkbox-inner-display::before,
.semi-table-container .semi-table .semi-table-thead th.semi-table-column-selection .semi-checkbox-inner-display::after,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap .semi-checkbox::before,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap .semi-checkbox::after,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap .semi-checkbox-inner::before,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap .semi-checkbox-inner::after,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap .semi-checkbox-inner-display::before,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap .semi-checkbox-inner-display::after {
  content: none !important;
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  width: 0 !important;
  height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  position: absolute !important;
  left: -9999px !important;
  pointer-events: none !important;
  font-size: 0 !important;
  line-height: 0 !important;
  background: none !important;
  border: none !important;
}

/* 只隐藏表头的下拉按钮（3个点），保留复选框 */
/* 使用更全面的选择器覆盖所有可能的省略号元素 */
/* 激进方案：隐藏第一个th内的所有非复选框按钮和下拉菜单 */
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-dropdown,
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-dropdown-trigger,
.semi-table-container .semi-table .semi-table-thead tr th:first-child button:not(.semi-checkbox):not(.semi-checkbox-wrapper):not(input[type="checkbox"]),
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-button:not(.semi-checkbox),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column .semi-dropdown,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column button:not(.semi-checkbox):not([type="checkbox"]):not(.semi-checkbox-wrapper),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column .semi-button:not(.semi-checkbox):not([type="checkbox"]),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column [class*="more"]:not(.semi-checkbox),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column [class*="ellipsis"],
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column [class*="dropdown"],
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column [class*="icon"]:not(.semi-checkbox),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column svg:not(.semi-checkbox svg),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap .semi-dropdown,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap button:not(.semi-checkbox):not([type="checkbox"]):not(.semi-checkbox-wrapper),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap [class*="more"]:not(.semi-checkbox),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap [class*="ellipsis"]:not(.semi-checkbox),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap [class*="dropdown"]:not(.semi-checkbox),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap [class*="icon"]:not(.semi-checkbox),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap svg:not(.semi-checkbox svg),
/* 通用的表头选择列中所有非复选框元素 */
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column > *:not(.semi-checkbox):not(.semi-checkbox-wrapper):not(input[type="checkbox"]),
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap > *:not(.semi-checkbox):not(.semi-checkbox-wrapper):not(input[type="checkbox"]) {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  width: 0 !important;
  height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  position: absolute !important;
  left: -9999px !important;
  pointer-events: none !important;
}

/* 确保复选框可见且可点击 */
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column .semi-checkbox,
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column input[type="checkbox"],
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-column .semi-checkbox-wrapper,
.semi-table-container .semi-table .semi-table-tbody .semi-table-selection-column .semi-checkbox,
.semi-table-container .semi-table .semi-table-tbody .semi-table-selection-column input[type="checkbox"],
.semi-table-container .semi-table .semi-table-tbody .semi-table-selection-column .semi-checkbox-wrapper {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  cursor: pointer !important;
}


/* 确保表头 selection-wrap 本身可见 */
.semi-table-container .semi-table .semi-table-thead .semi-table-selection-wrap,
.semi-table .semi-table-thead .semi-table-selection-wrap {
  display: flex;
  align-items: center;
  justify-content: center;
  visibility: visible;
  opacity: 1;
  width: 100%;
  height: 100%;
  /* 确保内部只显示复选框，隐藏其他所有内容 */
  overflow: hidden;
  position: relative;
}

/* 限制第一个th的宽度，防止超出内容显示 */
.semi-table-container .semi-table .semi-table-thead tr th:first-child {
  overflow: hidden !important;
  max-width: 50px !important;
  min-width: 50px !important;
  width: 50px !important;
}

/* 确保第一个th内的所有内容都在可见范围内 */
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-table-selection-wrap {
  max-width: 100% !important;
  width: 100% !important;
  overflow: hidden !important;
  position: relative !important;
}

/* 确保复选框及其内部元素正常显示 */
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-checkbox,
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-checkbox-wrapper,
.semi-table-container .semi-table .semi-table-thead tr th:first-child input[type="checkbox"],
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-checkbox-inner,
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-checkbox-input,
.semi-table-container .semi-table .semi-table-thead tr th:first-child .semi-checkbox-inner-display {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* 标签样式 */
.semi-tag {
  border-radius: 12px;
  padding: 4px 8px !important;
  margin: 0 2px;
  display: inline-block;
}
.semi-tag.semi-tag-grey {
  background-color: var(--semi-color-fill-0);
  color: var(--semi-color-text-0);
}
.semi-tag.semi-tag-blue {
  background-color: #E6F4FF;
  color: #1890FF;
}

/* 状态标签样式 */
.status-tag {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 400;
  line-height: 20px;
}

.status-tag.pending {
  background-color: #FFF7E6;
  color: #FA8C16;
}

.status-tag.deploying {
  background-color: #E6F4FF;
  color: #1890FF;
}

.status-tag.deployed {
  background-color: #F6FFED;
  color: #52C41A;
}

.status-tag.failed {
  background-color: #FFF1F0;
  color: #F5222D;
}

.status-tag.rolling-back {
  background-color: #FFF7E6;
  color: #FA8C16;
}

.status-tag.ended {
  background-color: #F5F5F5;
  color: #8C8C8C;
}
